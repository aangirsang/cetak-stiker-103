-- H2 2.3.232;
;             
CREATE USER IF NOT EXISTS "SA" SALT '20be846a8f8ea93c' HASH '368f1bcdf511c8337a32c6fd219ceca76c926bd1dc025221bed8d31442cde744' ADMIN;         
CREATE CACHED TABLE "PUBLIC"."DATA_STIKER"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "CATATAN" CHARACTER VARYING(255),
    "KODE_STIKER" CHARACTER VARYING(255),
    "LEBAR" INTEGER NOT NULL,
    "NAMA_STIKER" CHARACTER VARYING(255),
    "PANJANG" INTEGER NOT NULL,
    "TGL_PEMBUATAN" TIMESTAMP(6),
    "TGL_PERUBAHAN" TIMESTAMP(6),
    "DATA_UMKM_ID" BIGINT NOT NULL
);              
ALTER TABLE "PUBLIC"."DATA_STIKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C" PRIMARY KEY("ID");  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.DATA_STIKER;             
CREATE CACHED TABLE "PUBLIC"."DATA_UMKM"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 5) NOT NULL,
    "ALAMAT" CHARACTER VARYING(255),
    "INSTAGRAM" CHARACTER VARYING(255),
    "KONTAK" CHARACTER VARYING(255),
    "NAMA_PEMILIK" CHARACTER VARYING(255),
    "NAMA_USAHA" CHARACTER VARYING(255)
);              
ALTER TABLE "PUBLIC"."DATA_UMKM" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_9" PRIMARY KEY("ID");    
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.DATA_UMKM;               
INSERT INTO "PUBLIC"."DATA_UMKM" VALUES
(1, 'Dusun VI, Desa Bulan Bulan', 'turunancabe', '085359264028', 'Usleni', 'Turunan Cabe'),
(2, 'Dusun II Akasia, Tanah Rendah, Air Putih', '@pisangpasirendess', '0821-6477-2338', 'Endess', 'Devi Syahrianum'),
(3, 'Dusun 1, Sipare-Pare, Air Putih', '@dapurnyaa_ria', '85358745664', 'Dapurnyaa Ria', 'Ria Wiguna'),
(4, 'Dusun IV, Lubuk Cuik, Limapuluh', '@cahayasyajaril', '0822-7488-8412', 'Cahaya Syajaril', 'Niki Astra');           
CREATE CACHED TABLE "PUBLIC"."ORDERAN_STIKER"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "FAKTUR" CHARACTER VARYING(255),
    "TANGGAL" TIMESTAMP(6),
    "TOTAL_STIKER" INTEGER NOT NULL,
    "UMKM_ID" BIGINT
);   
ALTER TABLE "PUBLIC"."ORDERAN_STIKER" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_5" PRIMARY KEY("ID");               
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDERAN_STIKER;          
CREATE CACHED TABLE "PUBLIC"."ORDERAN_STIKER_RINCI"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "JUMLAH" INTEGER NOT NULL,
    "ORDERAN_ID" BIGINT,
    "STIKER_ID" BIGINT
);          
ALTER TABLE "PUBLIC"."ORDERAN_STIKER_RINCI" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_C0" PRIMARY KEY("ID");        
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ORDERAN_STIKER_RINCI;    
CREATE CACHED TABLE "PUBLIC"."PENGGUNA"(
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "KATA_SANDI" CHARACTER VARYING(255),
    "NAMA_AKUN" CHARACTER VARYING(255),
    "NAMA_LENGKAP" CHARACTER VARYING(255)
);          
ALTER TABLE "PUBLIC"."PENGGUNA" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");     
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.PENGGUNA;
ALTER TABLE "PUBLIC"."DATA_STIKER" ADD CONSTRAINT "PUBLIC"."FKNOK2MGW6KSC7G9QXBOBK4WXIG" FOREIGN KEY("DATA_UMKM_ID") REFERENCES "PUBLIC"."DATA_UMKM"("ID") NOCHECK;           
ALTER TABLE "PUBLIC"."ORDERAN_STIKER_RINCI" ADD CONSTRAINT "PUBLIC"."FKGP1UDON2K5UF2KT7C4FQ4V0XM" FOREIGN KEY("STIKER_ID") REFERENCES "PUBLIC"."DATA_STIKER"("ID") NOCHECK;   
ALTER TABLE "PUBLIC"."ORDERAN_STIKER" ADD CONSTRAINT "PUBLIC"."FKBGJ10GJH5QV0IHGYIJ4BP94TD" FOREIGN KEY("UMKM_ID") REFERENCES "PUBLIC"."DATA_UMKM"("ID") NOCHECK;             
ALTER TABLE "PUBLIC"."ORDERAN_STIKER_RINCI" ADD CONSTRAINT "PUBLIC"."FKR7DJ85C126K39JTRMJJO5B037" FOREIGN KEY("ORDERAN_ID") REFERENCES "PUBLIC"."ORDERAN_STIKER"("ID") NOCHECK;               
